<div class="card">
    <div class="card-head">
      Gestión de Proveedores
      <!-- Crear proveedor --> 
      <button (click)="openCreateModal()" class="btn btn-primary">Agregar Proveedor</button>
    </div>
    <div class="card-body">
      <table>
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Razón Social</th>
            <th>Rut</th>
            <th>DV</th>
            <th>Nombre Contacto Principal</th>
            <th>Número Contacto Principal</th>
            <th>Nombre Contacto Secundario</th>
            <th>Número Contacto Secundario</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let proveedor of proveedores">
            <!-- <td>{{ proveedor.id }}</td> -->
            <td>{{ proveedor.nombre }}</td>
            <td>{{ proveedor.razoN_SOCIAL }}</td>
            <td>{{ proveedor.rut }}</td>
            <td>{{ proveedor.dv }}</td>
            <td>{{ proveedor.nombrE_CONTACTO_PRINCIPAL }}</td>
            <td>{{ proveedor.numerO_CONTACTO_PRINCIPAL }}</td>
            <td>{{ proveedor.nombrE_CONTACTO_SECUNDARIO }}</td>
            <td>{{ proveedor.numerO_CONTACTO_SECUNDARIO }}</td>
            
            <td class="actions-column">
              <div class="button-container">
                <!-- Este Boton aun no tiene funcionalidad -->
                <button (click)="openCreateModal()" class="btn btn-warning"><i class="fa-solid fa-pen"></i></button> 
                <button (click)="confirmDelete(proveedor.id)" class="btn btn-danger"><i class="fa-solid fa-trash-can"></i></button>
              </div>
            </td>

          </tr>
        </tbody>
      </table>
    </div>


    <!-- <div class="card-body">
      <div class="proveedor-card" *ngFor="let proveedor of proveedores">
        <p><strong>Id:</strong> {{proveedor.id}}</p>
        <p><strong>Nombre:</strong> {{proveedor.nombre}}</p>
        <p><strong>Razón Social:</strong> {{proveedor.razoN_SOCIAL}}</p>
        <p><strong>RUT:</strong> {{proveedor.rut}}</p>
        <p><strong>DV:</strong> {{proveedor.dv}}</p>
        <p><strong>Nombre Contacto Principal:</strong> {{proveedor.nombrE_CONTACTO_PRINCIPAL}}</p>
        <p><strong>Número Contacto Principal:</strong> {{proveedor.numerO_CONTACTO_PRINCIPAL}}</p>
        <p><strong>Nombre Contacto Secundario:</strong> {{proveedor.nombrE_CONTACTO_SECUNDARIO}}</p>
        <p><strong>Número Contacto Secundario:</strong> {{proveedor.numerO_CONTACTO_SECUNDARIO}}</p>
        <p><strong>Estado:</strong> {{proveedor.estado}}</p>
        <p><strong>Usuario de Creación:</strong> {{proveedor.usuariO_CREACION}}</p>
        <p><strong>Fecha de Creación:</strong> {{proveedor.fechA_CREACION | date}}</p>

  
        <div class="proveedor-actions">
          <button routerLink="/editar-proveedor" class="btn btn-warning">Editar</button>
          <button (click)="confirmDelete(proveedor.id)" class="btn btn-danger">Eliminar</button>
          <button (click)="deleteProveedor()" class="btn btn-danger">Eliminar</button> -->
        <!-- </div>
      </div>
    </div>
  </div> --> 

  
  <!-- Modal de confirmación -->
  <div *ngIf="showConfirmationDialog" class="confirmation-dialog">
    <div class="modal-content">
      <p>¿Está seguro de que desea eliminar este proveedor?</p>
      <button (click)="deleteProveedor()" class="btn btn-si">Sí</button>
      <button (click)="cancelDelete()" class="btn btn-">No</button>
    </div>
  </div>

  <!-- Modal de Insertar Proveedores  -->
  <div *ngIf="showCreateModal" class="modal">
    <div class="modal-content proveedor-card">
      <h6>Agregar Proveedor</h6>
      <div class="form-container">
        <form (ngSubmit)="addProveedor()" #proveedorForm="ngForm"> 

          <div class="form-group">
            <label for="nombre">Nombre del Proveedor</label>
            <input
              type="text"
              id="nombre"
              [(ngModel)]="nuevoProveedor.nombre"
              name="nombre"
              class="form-control"
              required
            />
          </div>

          <div class="form-group">
            <label for="razoN_SOCIAL">Razón Social</label>
            <input
              type="text"
              id="razoN_SOCIAL"
              [(ngModel)]="nuevoProveedor.razoN_SOCIAL"
              name="razoN_SOCIAL"
              class="form-control"
              required
            />
          </div>

          <div class="form-group">
            <label for="rut">RUT</label>
            <input
              type="text"
              id="rut"
              [(ngModel)]="nuevoProveedor.rut"
              name="rut"
              class="form-control"
              required
            />
          </div>

          <div class="form-group">
            <label for="dv">dv</label>
            <input
              type="text"
              id="dv"
              [(ngModel)]="nuevoProveedor.dv"
              name="dv"
              class="form-control"
              required
            />
          </div>

          <div class="form-group">
            <label for="nombrE_CONTACTO_PRINCIPAL">Nombre Contacto Principal</label>
            <input
              type="text"
              id="nombrE_CONTACTO_PRINCIPAL"
              [(ngModel)]="nuevoProveedor.nombrE_CONTACTO_PRINCIPAL"
              name="nombrE_CONTACTO_PRINCIPAL"
              class="form-control"
              required
            />
          </div>

          <div class="form-group">
            <label for="numerO_CONTACTO_PRINCIPAL">Número Contacto Principal</label>
            <input
              type="number"
              id="numerO_CONTACTO_PRINCIPAL"
              [(ngModel)]="nuevoProveedor.numerO_CONTACTO_PRINCIPAL"
              name="numerO_CONTACTO_PRINCIPAL"
              class="form-control"
              required
            />
          </div>

          <div class="form-group">
            <label for="nombrE_CONTACTO_SECUNDARIO">Nombre Contacto Secundario</label>
            <input
              type="text"
              id="nombrE_CONTACTO_SECUNDARIO"
              [(ngModel)]="nuevoProveedor.nombrE_CONTACTO_SECUNDARIO"
              name="nombrE_CONTACTO_SECUNDARIO"
              class="form-control"
              required
            />
          </div>

          <div class="form-group">
            <label for="numerO_CONTACTO_SECUNDARIO">Número Contacto Secundario</label>
            <input
              type="number"
              id="numerO_CONTACTO_SECUNDARIO"
              [(ngModel)]="nuevoProveedor.numerO_CONTACTO_SECUNDARIO"
              name="numerO_CONTACTO_SECUNDARIO"
              class="form-control"
              required
            />
          </div>

          <div class="form-group">
            <label for="estado">Estado</label>
            <input
              type="number"
              id="estado"
              [(ngModel)]="nuevoProveedor.estado"
              name="estado"
              class="form-control"
              required
            />
        </div>

          <div class="form-group">
            <label for="usuariO_CREACION">Usuario de Creación</label>
            <input
              type="text"
              id="usuariO_CREACION"
              [(ngModel)]="nuevoProveedor.usuariO_CREACION"
              name="usuariO_CREACION"
              class="form-control"
              required
            />
          </div>

          <div class="form-group">
            <label for="fechA_CREACION">Fecha de Creación</label>
            <input
              type="datetime-local"
              id="fechA_CREACION"
              [(ngModel)]="nuevoProveedor.fechA_CREACION"
              name="fechA_CREACION"
              class="form-control"
              required
            />
          </div>

          <div class="form-actions">
            <button type="submit" class="btn-update">Crear</button>
            <button type="button" (click)="closeCreateModal()" class="volver-btn">Cancelar</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  